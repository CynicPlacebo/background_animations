/*******************************************************************
* Class for an animated Countdown Timer (max 2 digits. So 0 - 99).
* Can have custom coloring.
*
* Version: 0.1 (only tested in Firefox)
* Copyright: 2024 Cynic Placebo (https://localmess.com/)
* License: BSD-3-Clause
*******************************************************************/
class Countdown {

  /************** Static Variables ***************/
  static DEBUG = true; //TODO: set to false
  static DEFAULT = {
    'id':'countdown'
    ,'start':10
    ,'stop':0
    ,'speedMS':1000
    ,'warnAt':null
    ,'critAt':null
	,'strokeWidth':2
	,'strokeWidthWarn':2.6
	,'strokeWidthCrit':3.2
	// Default Colors
    ,'color_stroke':'BLACK' //Assume all options use same stroke, unless explicitly defined
    ,'color_back':'MIDNIGHTBLUE'
    ,'color_back_stroke':null //allows cascade from 'color_stroke'
    ,'color_bar':'BLUEVIOLET'
    ,'color_text':'CORNFLOWERBLUE'
    ,'color_text_stroke':null //allows cascade from 'color_stroke'
    ,'color_warn':'DARKORANGE'
    ,'color_warn_stroke':null //allows cascade from 'color_stroke'
    ,'color_crit':'CRIMSON'
    ,'color_crit_stroke':null //allows cascade from 'color_stroke'
  };

  static DIVISOR_HALF_ROTATION = 2.0672; //Each bar rotates half way (so divide by 2). Extra smidge leaves a circle pip visible
  static NUMERIC_KEYS = { //Config Keys that MUST be interpreted as numbers
    'start':true
    ,'stop':true
    ,'speedMS':true
    ,'warnAt':true
    ,'critAt':true
	,'strokeWidth':'float'
	,'strokeWidthWarn':'float'
	,'strokeWidthCrit':'float'
  };
  // Paths for SVGs (Back, Bar, Numbers)
  static P_BACK = 'M 150.3 0.8 A 149.5 149.5 0 0 0 0.8 150.3 A 149.5 149.5 0 0 0 150.3 299.8 A 149.5 149.5 0 0 0 299.8 150.3 A 149.5 149.5 0 0 0 150.3 0.8 z M 150.3 25.8 A 124.5 124.5 0 0 1 274.8 150.3 A 124.5 124.5 0 0 1 150.3 274.8 A 124.5 124.5 0 0 1 25.8 150.3 A 124.5 124.5 0 0 1 150.3 25.8 z';
  static P_BAR = 'M 135.44,2.03 C 59.45,9.67 1.54,73.96 1.33,150.33 c 0,6.43 0.45,12.75 1.24,18.96 0.04,0.3 0.08,0.61 0.12,0.91 2.61,19.59 9.02,37.96 18.48,54.38 0.09,0.16 0.18,0.32 0.28,0.48 3.17,5.46 6.67,10.7 10.49,15.69 0.17,0.22 0.34,0.44 0.52,0.66 3.88,5.02 8.05,9.8 12.53,14.28 4.48,4.48 9.27,8.64 14.28,12.53 0.22,0.17 0.44,0.34 0.66,0.52 4.99,3.82 10.23,7.31 15.69,10.49 0.16,0.09 0.32,0.18 0.48,0.28 16.41,9.46 34.79,15.87 54.38,18.48 0.3,0.04 0.61,0.08 0.91,0.12 6.21,0.79 12.53,1.24 18.96,1.24 0.33,0.002 0.67,0.005 1,-0.005 l -0.003,-24 c -0.33,0.004 -0.69,0.002 -1,0.007 -5.9,-0.004 -11.78,-0.42 -17.62,-1.26 -0.09,-0.01 -0.18,-0.02 -0.28,-0.04 -5.85,-0.84 -11.63,-2.1 -17.3,-3.76 -0.015,-0.004 -0.03,-0.01 -0.04,-0.01 -5.68,-1.67 -11.23,-3.74 -16.62,-6.2 -0.04,-0.02 -0.09,-0.04 -0.13,-0.06 -5.3,-2.43 -10.42,-5.23 -15.33,-8.37 -0.16,-0.11 -0.33,-0.21 -0.49,-0.32 -4.78,-3.09 -9.35,-6.51 -13.67,-10.23 -0.24,-0.2 -0.48,-0.41 -0.71,-0.62 -4.25,-3.71 -8.24,-7.7 -11.94,-11.94 -0.21,-0.24 -0.41,-0.47 -0.62,-0.71 -3.72,-4.32 -7.14,-8.88 -10.23,-13.67 -0.11,-0.16 -0.21,-0.33 -0.32,-0.49 -3.14,-4.91 -5.94,-10.03 -8.37,-15.33 -0.02,-0.04 -0.04,-0.09 -0.06,-0.13 -2.46,-5.39 -4.53,-10.94 -6.2,-16.62 -0.004,-0.01 -0.01,-0.03 -0.01,-0.04 -1.66,-5.67 -2.92,-11.45 -3.76,-17.3 -0.01,-0.09 -0.02,-0.18 -0.04,-0.28 -0.83,-5.84 -1.26,-11.72 -1.26,-17.62 C 25.49,85.77 74.74,31.72 139.04,25.91 142.07,25.5 149.86,22.99 149.88,13.71 149.88,2.45 137.66,1.82 135.44,2.03 Z';
  static P_NUM = {
	'0':'m75 181 0.547-61.5c0-20.6 7.02-37.8 21-51.7 14-13.8 32.1-20.8 54.1-20.8 21.9 0 39.8 6.92 53.8 20.8 14 13.8 21 31.1 21 51.7v61.5c0 18.6-5.74 34.5-17.2 47.8-11.5 13.1-26.9 21.1-46.2 24.1-3.83 0.546-7.65 0.82-11.5 0.82-3.64 0-7.38-0.274-11.2-0.82-10.9-1.46-20.7-4.65-29.2-9.57-8.38-5.1-15.5-11.8-21.3-20-9.29-12.9-13.9-27.1-13.9-42.4zm78.4 22.7c5.65-0.911 9.93-3.46 12.8-7.65 3.1-4.37 4.65-10.5 4.65-18.3v-54.9c0-15.1-5.83-23.7-17.5-25.7h-5.47c-6.01 0.911-10.5 3.37-13.4 7.38-2.92 4.01-4.37 10.1-4.37 18.3v54.9c0 8.38 1.73 14.9 5.19 19.4 3.64 4.56 8.47 6.83 14.5 6.83 1.64 0 2.82-0.091 3.55-0.273z'
	,'1':'m125 53.6h30.4c9.24 0 15.8 1.6 19.7 4.8 3.91 3.2 6.31 8.8 7.2 16.8v3.73 117h1.87c6.93 0 12.6 2.31 17.1 6.93 4.44 4.62 6.67 10.3 6.67 17.1 0 3.56-0.622 6.93-1.87 10.1-3.91 10.7-11.7 16-23.5 16h-53.6c-7.11 0-13.1-2.4-17.9-7.2s-7.2-10.8-7.2-18.1c0-6.4 2.13-11.8 6.4-16.3 4.27-4.62 9.78-7.38 16.5-8.27l2.13-0.266v-92.5h-2.93c-8.71 0-15.6-2.22-20.5-6.67-4.98-4.44-7.47-10.4-7.47-17.9 0-7.29 2.49-13.2 7.47-17.9s11.5-6.93 19.5-6.93z'
	,'2':'m86.9 199 66.2-75.7c2.82-2.82 4.23-6.14 4.23-9.96 0-4.15-1.24-7.55-3.73-10.2-2.32-2.82-5.56-4.23-9.71-4.23-0.664 0-1.82 0.166-3.48 0.498-6.97 1.49-10.5 6.14-10.5 13.9 0 2.82 0.664 6.89 1.99 12.2 0.332 0.829 0.498 2.16 0.498 3.98 0 1.66-0.083 2.99-0.249 3.98-1.16 9.62-7.05 15.6-17.7 17.9-1.99 0.332-3.48 0.498-4.48 0.498-7.63 0-14.2-3.48-19.7-10.5-5.97-7.63-8.96-17.6-8.96-29.9 0-2.66 0.083-4.73 0.249-6.22 1.16-12.8 5.64-23.6 13.4-32.4 7.96-8.96 18.6-15 31.9-18.2 6.47-1.49 12.9-2.24 19.2-2.24 14.8 0 27.8 3.9 39.1 11.7 11.3 7.63 18.6 17.3 21.9 29.1 1.49 5.31 2.24 10.3 2.24 14.9 0 10.6-4.31 21.7-12.9 33.4l-2.49 3.24-38.3 46.5h18.2l-0.249-4.23c0-4.98 2.24-9.38 6.72-13.2 4.65-3.98 10.1-5.97 16.4-5.97 2.99 0 6.31 0.664 9.96 1.99 3.82 1.16 6.97 3.57 9.46 7.22 2.65 3.48 3.98 7.47 3.98 11.9v22.6l-0.249 3.98c-1.99 13.6-9.46 20.4-22.4 20.4h-91.8l-6.97-0.747c-11.9-2.99-17.9-9.79-17.9-20.4 0-3.32 0.912-6.97 2.74-11 0.664-1.82 1.83-3.57 3.48-5.23z'
	,'3':'m85.4 107v-22.3c0-9.37 3.88-16.3 11.6-20.8 3.07-1.78 6.94-2.66 11.6-2.66h49.9l10.2 0.727c21.8 3.88 35.4 16.4 40.7 37.5 1.13 4.52 1.7 9.2 1.7 14 0 11.6-3.8 22.1-11.4 31.5l-2.66 2.91 3.15 1.7c12.4 7.1 18.7 18.3 18.7 33.7 0 4.84-0.726 9.53-2.18 14-1.29 4.52-3.47 9.28-6.54 14.3-5.49 8.56-13.5 15.4-24 20.6-10.3 5.01-22.2 7.51-35.6 7.51-3.55 0-7.27-0.242-11.1-0.727-7.91-0.969-15-2.66-21.3-5.09-6.14-2.58-11.4-5.81-15.7-9.69-2.1-1.78-4.2-3.96-6.3-6.54-2.1-2.58-3.63-4.68-4.6-6.3-2.75-4.52-4.12-9.37-4.12-14.5 0-5.65 1.7-10.5 5.09-14.5 3.55-4.2 8.32-6.7 14.3-7.51 0.807-0.161 1.94-0.242 3.39-0.242 4.68 0 8.8 1.29 12.4 3.88 1.94 1.45 3.55 2.91 4.84 4.36 0.484 0.484 1.86 2.18 4.12 5.09 3.71 4.68 9.45 7.02 17.2 7.02 1.94 0 3.47-0.081 4.6-0.242 9.53-1.13 14.3-4.93 14.3-11.4 0-1.78-0.161-3.15-0.484-4.12-1.45-4.04-4.6-6.54-9.45-7.51h-1.7-29.8c-2.58 0-4.84-0.323-6.78-0.968-5.98-1.78-10.3-5.25-13.1-10.4-1.61-3.07-2.42-6.14-2.42-9.2 0-4.2 1.21-7.91 3.63-11.1 2.42-3.23 5.65-5.41 9.69-6.54 4.2-1.13 8.64-1.7 13.3-1.7h15.7c6.94 0 11.8-0.808 14.5-2.42 2.91-1.62 4.76-4.36 5.57-8.24 0.162-0.646 0.243-1.62 0.243-2.91 0-7.59-4.93-11.4-14.8-11.4l-21.1-0.242v1.94c0 6.14-2.26 11.2-6.78 15.3-4.52 4.04-10.1 6.06-16.7 6.06-6.14 0-11.3-2.18-15.5-6.54s-6.3-9.77-6.3-16.2z'
	,'4':'m82.4 121 22.8-46.2c5.18-10.2 12.6-15.3 22.1-15.3 6.75 0 12.2 2.2 16.5 6.6s6.36 9.74 6.36 16c0 2.98-0.707 6.05-2.12 9.19l-20.7 43.3-0.471 0.942-0.471 1.65c0 3.14 1.41 4.71 4.24 4.71h1.18 14.1v-18.6c0-5.65 1.18-10.5 3.53-14.6 2.36-4.24 5.42-7.22 9.19-8.95 3.77-1.88 7.62-2.83 11.5-2.83 5.02 0 9.58 1.41 13.7 4.24 4.08 2.83 6.75 6.12 8.01 9.89 1.26 3.61 1.88 7.22 1.88 10.8v20c1.73-0.471 3.3-0.707 4.71-0.707 5.02 0 9.42 1.96 13.2 5.89s5.65 8.95 5.65 15.1c0 13.3-7.77 20-23.3 20l-0.235 8.01h1.65c5.97 0 10.9 2.04 14.8 6.12 3.93 4.08 5.89 9.34 5.89 15.8 0 6.75-2.12 12.2-6.36 16.3s-9.74 6.12-16.5 6.12h-47.1c-6.6 0-12-2.04-16.3-6.12s-6.36-9.42-6.36-16c0-6.12 1.96-11.3 5.89-15.5 4.08-4.4 9.11-6.6 15.1-6.6l1.65-0.236v-7.77h-24l-7.54-0.471c-11.5-1.57-20.6-6.05-27.3-13.4-6.75-7.38-10.1-16.2-10.1-26.4 0-7.07 1.73-14.1 5.18-21z'
	,'5':'m151 166h-34.1-2.75c-5.95-0.763-10.8-3.05-14.4-6.87-3.51-3.97-5.26-8.77-5.26-14.4v-57.2c0-6.87 1.91-12.2 5.72-16 3.82-3.81 9.23-5.72 16.3-5.72h70l2.75 0.229c6.41 0 11.4 1.68 14.9 5.04 3.51 3.36 5.26 7.93 5.26 13.7v2.52 15.1c0 9.92-3.97 16.6-11.9 20.1-3.2 1.37-6.56 2.06-10.1 2.06-5.49 0-10.4-1.53-14.6-4.58-4.27-3.05-6.41-6.48-6.41-10.3v-4.35h-25.6v17.9h14.4c3.2 0 5.57 0.152 7.1 0.457 15.9 1.83 28.4 7.63 37.5 17.4 9.31 9.61 14 21.6 14 35.9 0 3.2-0.229 6.41-0.687 9.61-2.14 13.9-8.7 25.3-19.7 34.3-10.8 9-24.3 13.5-40.3 13.5-15.1 0-28.6-3.43-40.5-10.3-11.8-6.87-19.5-15.2-23.3-24.9-1.07-2.75-1.6-5.72-1.6-8.93 0-5.49 1.68-10.1 5.04-14 3.51-3.97 8.09-6.33 13.7-7.1 3.97-0.305 7.48 0.305 10.5 1.83 3.05 1.37 6.26 4.12 9.61 8.24s6.18 7.02 8.47 8.7c2.29 1.53 5.11 2.67 8.47 3.43l4.35 0.687c11.3 0 16.9-4.27 16.9-12.8 0-0.61-0.229-2.06-0.687-4.35s-1.83-4.35-4.12-6.18-5.26-2.75-8.93-2.75z'
	,'6':'m92.2 171v-42.4c0-17.9 5.93-32.7 17.8-44.4 11.9-11.7 27-17.6 45.6-17.6h4.22c1.33 0 4 0.296 8 0.889 4.15 0.444 8.89 1.7 14.2 3.78 9.33 3.7 16.4 8.22 21.1 13.6s7.11 10.9 7.11 16.7c0 2.82-0.518 5.48-1.56 8-3.41 8.74-9.56 13.1-18.4 13.1-2.37 0-4.82-0.444-7.33-1.33l-3.78-1.78-0.667-0.444-6.67-5.33-4-2.89c-2.37-1.33-4.59-2.22-6.67-2.67-2.07-0.445-4.52-0.667-7.33-0.667l-4 0.889c-7.41 1.93-11.6 6.15-12.4 12.7v2.22 5.33l1.33-0.889 1.56-1.11c5.78-3.56 12.7-5.33 20.9-5.33 5.78 0 11.4 0.963 16.9 2.89 5.63 1.78 11.1 4.67 16.4 8.67 6.37 4.74 11.3 10.9 14.9 18.4 3.56 7.41 5.33 15.5 5.33 24.2 0 3.11-0.297 6.52-0.889 10.2-0.593 3.7-1.48 7.11-2.67 10.2-4.44 11.6-11.9 20.8-22.2 27.8-10.2 6.82-21.9 10.2-35.1 10.2-5.33 0-10.9-0.667-16.7-2-13.6-3.26-24.5-10.4-32.7-21.3-8.15-11-12.2-24.1-12.2-39.6zm57.1 22.7c0.889 0.296 2.22 0.444 4 0.444 4.44 0 8.15-1.56 11.1-4.67 2.96-3.11 4.44-7.11 4.44-12 0-3.41-1.11-6.44-3.33-9.11-2.22-2.67-5.19-4.44-8.89-5.33-0.889-0.296-2.3-0.444-4.22-0.444-1.92 0-3.92 0.444-6 1.33-6.22 2.52-9.33 7.48-9.33 14.9 0 3.56 1.11 6.74 3.33 9.56 2.37 2.67 5.33 4.44 8.89 5.33z'
	,'7':'m88.4 112v-20.9c0-6.52 1.85-11.6 5.56-15.3s8.89-5.56 15.6-5.56h70.7l7.78 0.222c8.59 0.741 15.6 4.15 21.1 10.2 5.48 6.07 8.22 13.4 8.22 22 0 3.85-0.666 7.78-2 11.8l-3.11 7.11-0.889 1.33-2.22 4-54.2 93.8c-5.78 9.93-13 14.9-21.8 14.9-3.85 0-7.7-1.04-11.6-3.11-3.85-2.08-6.82-4.74-8.89-8-1.93-3.26-2.89-6.96-2.89-11.1 0-4.44 1.18-8.59 3.56-12.4l46-78.7 0.889-2 1.11-1.78c0.445-0.889 0.667-1.7 0.667-2.44 0-0.592-0.222-1.26-0.667-2-0.889-1.48-2.3-2.22-4.22-2.22h-2.89-23.8v1.56c0 5.78-2.08 10.7-6.22 14.7-4 3.85-8.89 5.78-14.7 5.78-2.52 0-5.33-0.592-8.44-1.78-8.44-3.56-12.7-10.2-12.7-20z'
	,'8':'m108 141-1.11-1.11-0.667-1.11c-4.3-5.48-6.44-12.4-6.44-20.9 0-6.37 1.26-12.8 3.78-19.3 7.11-17.9 20.4-28.5 39.8-31.8 3.11-0.444 6.07-0.667 8.89-0.667s5.7 0.222 8.67 0.667c19.6 3.26 32.9 13.9 40 31.8 2.52 6.52 3.78 13 3.78 19.6 0 8.3-2.15 15.2-6.44 20.7l-0.889 1.11-1.11 1.11 3.11 2.22c3.41 2.82 6.3 6.22 8.67 10.2 4.3 6.67 6.44 14.4 6.44 23.1 0 11.3-3.48 21.8-10.4 31.6-7.41 10.4-17.3 17.7-29.8 22l-10.4 2.67c-3.41 0.593-7.26 0.889-11.6 0.889-8.15 0-15.6-1.18-22.2-3.56-12.3-4.3-22.1-11.5-29.3-21.6-7.11-10.1-10.7-20.8-10.7-32.2 0-8.59 2.15-16.2 6.44-22.9 2.37-4 5.26-7.41 8.67-10.2l1.33-1.11zm33.8-23.3c0.888 4.15 3.26 6.82 7.11 8 1.78 0.741 3.48 0.889 5.11 0.445 4.59-0.741 7.48-3.56 8.67-8.44 0.297-1.48 0.445-2.52 0.445-3.11 0-2.52-0.889-4.89-2.67-7.11-2.22-2.67-4.96-4-8.22-4-2.96 0-5.7 1.33-8.22 4-1.78 2.22-2.67 4.74-2.67 7.56zm-4.89 62.9c1.48 8.3 6.59 12.4 15.3 12.4 4.59 0 8.3-1.48 11.1-4.44s4.22-6.59 4.22-10.9c0-1.33-0.148-2.74-0.444-4.22-0.296-1.48-0.963-3.04-2-4.67-3.26-4.59-7.56-6.89-12.9-6.89-3.85 0-7.18 1.18-10 3.56-2.67 2.22-4.37 5.33-5.11 9.33l-0.445 2.89z'
	,'9':'m212 129v42.7c0 17.9-5.92 32.7-17.8 44.4-11.9 11.7-27 17.6-45.3 17.6h-3.33c-0.889 0-1.93-0.074-3.11-0.222s-2.67-0.296-4.44-0.444c-1.78-0.149-4.07-0.593-6.89-1.33-2.67-0.592-5.56-1.48-8.67-2.67-9.18-3.7-16.2-7.93-21.1-12.7-4.89-4.89-7.33-9.7-7.33-14.4v-2.89c0-5.63 1.63-10.4 4.89-14.2 3.26-3.85 7.56-6.15 12.9-6.89 0.592-0.148 1.63-0.223 3.11-0.223 3.26 0 6.74 1.04 10.4 3.11l7.33 5.56c3.11 2.22 6.07 3.85 8.89 4.89 2.82 0.889 5.78 1.33 8.89 1.33l4-0.666c4.3-1.19 7.33-2.67 9.11-4.44s2.89-4.59 3.33-8.44l0.223-2v-5.11l-1.33 0.889-1.78 1.11c-5.78 3.56-12.7 5.33-20.9 5.33-5.78 0-11.4-0.889-16.9-2.67-5.48-1.93-10.8-4.81-16-8.67-6.67-5.04-11.8-11.3-15.3-18.9-3.56-7.56-5.33-15.5-5.33-23.8 0-6.67 1.04-13 3.11-19.1 2.22-6.22 5.63-12.1 10.2-17.8 11.9-14.8 27.9-22.2 48-22.2 16.3 0 29.9 5.04 40.9 15.1 11.1 10.1 17.7 23.3 19.8 39.6zm-64.4 8.67c1.48 0.296 2.67 0.444 3.56 0.444s2.07-0.148 3.56-0.444c3.85-0.741 6.89-2.44 9.11-5.11 2.37-2.81 3.56-6.15 3.56-10 0-1.19-0.296-2.96-0.889-5.33-1.18-3.85-3.63-6.82-7.33-8.89-2.52-1.48-5.26-2.22-8.22-2.22-3.41 0-6.59 1.18-9.56 3.56-2.82 2.22-4.52 4.74-5.11 7.56-0.593 2.67-0.815 4.59-0.667 5.78 0 7.85 4 12.7 12 14.7z'
	,'00':'m156 172 0.391-44c0-14.7 5.02-27.1 15.1-37 10-9.91 22.9-14.9 38.7-14.9 15.6 0 28.5 4.95 38.5 14.9 10 9.91 15.1 22.2 15.1 37v44c0 13.3-4.11 24.7-12.3 34.2-8.21 9.39-19.2 15.1-33 17.2-2.74 0.391-5.48 0.587-8.21 0.587-2.61 0-5.28-0.196-8.02-0.587-7.82-1.04-14.8-3.32-20.9-6.84-6-3.65-11.1-8.41-15.3-14.3-6.65-9.26-9.97-19.4-9.97-30.3zm56.1 16.2c4.04-0.652 7.1-2.48 9.19-5.48 2.22-3.13 3.32-7.5 3.32-13.1v-39.3c0-10.8-4.17-16.9-12.5-18.4h-3.91c-4.3 0.652-7.5 2.41-9.58 5.28-2.09 2.87-3.13 7.24-3.13 13.1v39.3c0 6 1.24 10.6 3.72 13.9 2.61 3.26 6.06 4.89 10.4 4.89 1.17 0 2.02-0.065 2.54-0.196z'
	,'01':'m187 79.7h22.3c6.78 0 11.6 1.17 14.5 3.52 2.87 2.35 4.63 6.45 5.28 12.3v88.2h1.37c5.08 0 9.26 1.7 12.5 5.08 3.26 3.39 4.89 7.56 4.89 12.5 0 2.61-0.456 5.08-1.37 7.43-2.87 7.82-8.6 11.7-17.2 11.7h-39.3c-5.22 0-9.58-1.76-13.1-5.28s-5.28-7.95-5.28-13.3c0-4.69 1.56-8.67 4.69-11.9 3.13-3.39 7.17-5.41 12.1-6.06l1.56-0.196v-67.9h-2.15c-6.39 0-11.4-1.63-15.1-4.89-3.65-3.26-5.48-7.63-5.48-13.1 0-5.35 1.82-9.71 5.48-13.1 3.65-3.39 8.41-5.08 14.3-5.08z'
	,'02':'m158 191 52-59.4c2.22-2.22 3.32-4.82 3.32-7.82 0-3.26-0.978-5.93-2.93-8.02-1.83-2.22-4.37-3.32-7.63-3.32-0.521 0-1.43 0.13-2.74 0.391-5.48 1.17-8.21 4.82-8.21 11 0 2.22 0.521 5.41 1.56 9.58 0.261 0.652 0.392 1.7 0.392 3.13 0 1.3-0.066 2.35-0.196 3.13-0.913 7.56-5.54 12.3-13.9 14.1-1.56 0.26-2.74 0.391-3.52 0.391-6 0-11.1-2.74-15.4-8.21-4.69-6-7.04-13.8-7.04-23.5 0-2.09 0.065-3.72 0.195-4.89 0.913-10 4.43-18.5 10.6-25.4 6.26-7.04 14.6-11.8 25-14.3 5.08-1.17 10.1-1.76 15.1-1.76 11.6 0 21.8 3.06 30.7 9.19 8.86 6 14.6 13.6 17.2 22.9 1.17 4.17 1.76 8.08 1.76 11.7 0 8.34-3.39 17.1-10.2 26.2l-1.96 2.54-30.1 36.6h14.3l-0.196-3.32c0-3.91 1.76-7.36 5.28-10.4 3.65-3.13 7.95-4.69 12.9-4.69 2.35 0 4.95 0.521 7.82 1.56 3 0.913 5.48 2.8 7.43 5.67 2.09 2.74 3.13 5.87 3.13 9.39v17.8l-0.196 3.13c-1.56 10.7-7.43 16-17.6 16h-72.2l-5.48-0.587c-9.39-2.35-14.1-7.69-14.1-16 0-2.61 0.717-5.48 2.15-8.6 0.522-1.43 1.43-2.8 2.74-4.11z'
	,'03':'m156 117v-18c0-7.56 3.05-13.2 9.15-16.8 2.41-1.43 5.46-2.15 9.15-2.15h39.3l8 0.587c17.1 3.13 27.8 13.2 32 30.3 0.89 3.65 1.33 7.43 1.33 11.3 0 9.39-2.98 17.9-8.96 25.4l-2.1 2.35 2.48 1.37c9.78 5.74 14.7 14.8 14.7 27.2 0 3.91-0.572 7.69-1.72 11.3-1.02 3.65-2.73 7.5-5.14 11.5-4.32 6.91-10.6 12.5-18.9 16.6-8.13 4.04-17.5 6.06-28 6.06-2.8 0-5.72-0.196-8.77-0.587-6.22-0.782-11.8-2.15-16.8-4.11-4.83-2.09-8.96-4.69-12.4-7.82-1.65-1.43-3.3-3.19-4.95-5.28-1.65-2.09-2.86-3.78-3.62-5.09-2.16-3.65-3.24-7.56-3.24-11.7 0-4.56 1.33-8.48 4-11.7 2.8-3.39 6.54-5.41 11.2-6.06 0.635-0.13 1.52-0.195 2.67-0.195 3.68 0 6.92 1.04 9.72 3.13 1.52 1.17 2.8 2.35 3.81 3.52 0.381 0.392 1.46 1.76 3.24 4.11 2.92 3.78 7.43 5.67 13.5 5.67 1.52 0 2.73-0.066 3.62-0.196 7.5-0.913 11.2-3.98 11.2-9.19 0-1.44-0.127-2.54-0.381-3.32-1.14-3.26-3.62-5.28-7.43-6.06h-24.8c-2.03 0-3.81-0.261-5.34-0.783-4.7-1.43-8.13-4.24-10.3-8.41-1.27-2.48-1.9-4.96-1.9-7.43 0-3.39 0.952-6.39 2.86-9 1.9-2.61 4.45-4.37 7.62-5.28 3.3-0.912 6.8-1.37 10.5-1.37h12.4c5.46 0 9.27-0.652 11.4-1.96 2.29-1.3 3.75-3.52 4.38-6.65 0.127-0.521 0.191-1.3 0.191-2.35 0-6.13-3.88-9.19-11.6-9.19l-16.6-0.196v1.56c0 4.96-1.78 9.06-5.34 12.3s-7.94 4.89-13.1 4.89c-4.83 0-8.89-1.76-12.2-5.28-3.3-3.52-4.95-7.89-4.95-13.1z'
	,'04':'m152 126 18.5-38.3c4.19-8.48 10.2-12.7 17.9-12.7 5.46 0 9.91 1.83 13.3 5.48s5.14 8.08 5.14 13.3c0 2.48-0.572 5.02-1.72 7.63l-16.8 36-0.382 0.782-0.381 1.37c0 2.61 1.14 3.91 3.43 3.91h12.4v-15.5c0-4.69 0.953-8.74 2.86-12.1 1.91-3.52 4.38-6 7.43-7.43 3.05-1.56 6.16-2.35 9.34-2.35 4.06 0 7.75 1.17 11.1 3.52 3.3 2.35 5.46 5.08 6.48 8.22 1.02 3 1.52 6 1.52 9v16.6c1.4-0.391 2.67-0.587 3.81-0.587 4.06 0 7.62 1.63 10.7 4.89s4.57 7.43 4.57 12.5c0 11.1-6.29 16.6-18.9 16.6l-0.19 6.65h1.33c4.83 0 8.83 1.7 12 5.08s4.76 7.76 4.76 13.1c0 5.61-1.72 10.1-5.14 13.5-3.43 3.39-7.88 5.08-13.3 5.08h-38.1c-5.34 0-9.72-1.7-13.1-5.08-3.43-3.39-5.14-7.82-5.14-13.3 0-5.08 1.59-9.39 4.76-12.9 3.3-3.65 7.37-5.48 12.2-5.48l1.33-0.196v-6.45h-19.4l-6.1-0.391c-9.27-1.3-16.6-5.02-22.1-11.1-5.46-6.13-8.19-13.4-8.19-21.9 0-5.87 1.4-11.7 4.19-17.4z'
	,'05':'m209 165h-31.5c-5.08-0.652-9.19-2.61-12.3-5.87-3-3.39-4.5-7.5-4.5-12.3v-48.9c0-5.87 1.63-10.4 4.89-13.7 3.26-3.26 7.89-4.89 13.9-4.89h59.8l2.35 0.196c5.48 0 9.71 1.43 12.7 4.3 3 2.87 4.5 6.78 4.5 11.7v15.1c0 8.47-3.39 14.2-10.2 17.2-2.74 1.17-5.61 1.76-8.6 1.76-4.69 0-8.86-1.3-12.5-3.91-3.65-2.61-5.48-5.54-5.48-8.8v-3.72h-21.9v15.3h12.3c2.74 0 4.76 0.13 6.06 0.391 13.6 1.56 24.2 6.52 32.1 14.9 7.95 8.21 11.9 18.4 11.9 30.7 0 2.74-0.196 5.48-0.587 8.21-1.82 11.9-7.43 21.6-16.8 29.3-9.26 7.69-20.7 11.5-34.4 11.5-12.9 0-24.4-2.93-34.6-8.8-10-5.87-16.7-13-19.9-21.3-0.912-2.35-1.37-4.89-1.37-7.63 0-4.69 1.43-8.67 4.3-11.9 3-3.39 6.91-5.41 11.7-6.06 3.39-0.261 6.39 0.261 9 1.56 2.61 1.17 5.34 3.52 8.21 7.04 2.87 3.52 5.28 6 7.24 7.43 1.96 1.3 4.37 2.28 7.24 2.93l3.72 0.587c9.65 0 14.5-3.65 14.5-11 0-0.521-0.195-1.76-0.586-3.72-0.392-1.96-1.56-3.72-3.52-5.28-1.96-1.56-4.5-2.35-7.63-2.35z'
	,'06':'m157 169v-37.4c0-15.8 5.21-28.8 15.6-39.1 10.4-10.3 23.8-15.4 40.1-15.4h3.72c1.17 0 3.52 0.261 7.04 0.782 3.65 0.391 7.82 1.5 12.5 3.32 8.21 3.26 14.4 7.24 18.6 11.9 4.17 4.69 6.26 9.58 6.26 14.7 0 2.48-0.456 4.82-1.37 7.04-3 7.69-8.41 11.5-16.2 11.5-2.09 0-4.24-0.391-6.45-1.17l-3.32-1.56-0.586-0.391-5.87-4.69-3.52-2.54c-2.09-1.17-4.04-1.96-5.87-2.35-1.82-0.391-3.98-0.586-6.45-0.586l-3.52 0.782c-6.52 1.7-10.2 5.41-11 11.1v6.65l1.17-0.782 1.37-0.978c5.08-3.13 11.2-4.69 18.4-4.69 5.08 0 10 0.847 14.9 2.54 4.95 1.56 9.78 4.11 14.5 7.63 5.61 4.17 9.97 9.58 13.1 16.2 3.13 6.52 4.69 13.6 4.69 21.3 0 2.74-0.261 5.74-0.782 9-0.522 3.26-1.3 6.26-2.35 9-3.91 10.2-10.4 18.3-19.6 24.4-9 6-19.3 9-30.9 9-4.69 0-9.58-0.586-14.7-1.76-12-2.87-21.6-9.13-28.7-18.8s-10.8-21.2-10.8-34.8zm50.3 19.9c0.782 0.261 1.96 0.391 3.52 0.391 3.91 0 7.17-1.37 9.78-4.11 2.61-2.74 3.91-6.26 3.91-10.6 0-3-0.978-5.67-2.93-8.02-1.96-2.35-4.56-3.91-7.82-4.69-0.782-0.261-2.02-0.391-3.72-0.391s-3.46 0.391-5.28 1.17c-5.48 2.22-8.21 6.58-8.21 13.1 0 3.13 0.977 5.93 2.93 8.41 2.09 2.35 4.69 3.91 7.82 4.69z'
	,'07':'m153 116v-18.4c0-5.74 1.58-10.2 4.74-13.5s7.59-4.89 13.3-4.89h60.3l6.64 0.196c7.34 0.652 13.3 3.65 18 9s7.02 11.8 7.02 19.4c0 3.39-0.569 6.84-1.71 10.4l-2.66 6.26-0.759 1.17-1.9 3.52-46.3 82.5c-4.93 8.74-11.1 13.1-18.6 13.1-3.29 0-6.58-0.913-9.86-2.74-3.29-1.83-5.82-4.17-7.59-7.04-1.64-2.87-2.47-6.13-2.47-9.78 0-3.91 1.01-7.56 3.04-11l39.3-69.2 0.759-1.76 0.949-1.56c0.379-0.782 0.569-1.5 0.569-2.15 0-0.522-0.19-1.11-0.569-1.76-0.759-1.3-1.96-1.96-3.6-1.96h-22.8v1.37c0 5.08-1.77 9.39-5.31 12.9-3.42 3.39-7.59 5.08-12.5 5.08-2.15 0-4.55-0.522-7.21-1.56-7.21-3.13-10.8-9-10.8-17.6z'
	,'08':'m171 142-0.978-0.978-0.587-0.978c-3.78-4.82-5.67-11-5.67-18.4 0-5.61 1.11-11.3 3.32-17 6.26-15.8 17.9-25.1 35-28 2.74-0.391 5.34-0.587 7.82-0.587s5.02 0.196 7.63 0.587c17.2 2.87 28.9 12.2 35.2 28 2.22 5.74 3.32 11.5 3.32 17.2 0 7.3-1.89 13.4-5.67 18.2l-0.782 0.978-0.978 0.978 2.74 1.96c3 2.48 5.54 5.48 7.63 9 3.78 5.87 5.67 12.6 5.67 20.3 0 9.91-3.06 19.2-9.19 27.8-6.52 9.13-15.3 15.6-26.2 19.4l-9.19 2.35c-3 0.521-6.39 0.782-10.2 0.782-7.17 0-13.7-1.04-19.6-3.13-10.8-3.78-19.4-10.1-25.8-19-6.26-8.86-9.39-18.3-9.39-28.4 0-7.56 1.89-14.3 5.67-20.1 2.09-3.52 4.63-6.52 7.63-9l1.17-0.977zm29.7-20.5c0.782 3.65 2.87 6 6.26 7.04 1.56 0.651 3.06 0.782 4.5 0.391 4.04-0.652 6.58-3.13 7.63-7.43 0.261-1.3 0.391-2.22 0.391-2.74 0-2.22-0.782-4.3-2.35-6.26-1.96-2.35-4.37-3.52-7.24-3.52-2.61 0-5.02 1.17-7.24 3.52-1.56 1.96-2.35 4.17-2.35 6.65zm-4.3 55.3c1.3 7.3 5.8 11 13.5 11 4.04 0 7.3-1.3 9.78-3.91 2.48-2.61 3.72-5.8 3.72-9.58 0-1.17-0.13-2.41-0.391-3.72s-0.847-2.67-1.76-4.11c-2.87-4.04-6.65-6.06-11.3-6.06-3.39 0-6.32 1.04-8.8 3.13-2.35 1.96-3.85 4.69-4.5 8.21l-0.391 2.54z'
	,'09':'m264 132v37.5c0 15.8-5.21 28.8-15.6 39.1-10.4 10.3-23.7 15.4-39.9 15.4h-2.93c-0.783 0-1.7-0.065-2.74-0.195-1.04-0.131-2.35-0.261-3.91-0.391-1.56-0.131-3.58-0.522-6.06-1.17-2.35-0.521-4.89-1.3-7.63-2.35-8.08-3.26-14.3-6.98-18.6-11.1-4.3-4.3-6.45-8.54-6.45-12.7v-2.54c0-4.95 1.43-9.13 4.3-12.5 2.87-3.39 6.65-5.41 11.3-6.06 0.522-0.13 1.43-0.196 2.74-0.196 2.87 0 5.93 0.913 9.19 2.74l6.45 4.89c2.74 1.96 5.35 3.39 7.82 4.3 2.48 0.783 5.08 1.17 7.82 1.17l3.52-0.587c3.78-1.04 6.45-2.35 8.02-3.91 1.56-1.56 2.54-4.04 2.93-7.43l0.195-1.76v-4.5l-1.17 0.782-1.56 0.978c-5.08 3.13-11.2 4.69-18.4 4.69-5.08 0-10-0.782-14.9-2.35-4.82-1.7-9.52-4.24-14.1-7.63-5.87-4.43-10.4-9.97-13.5-16.6s-4.69-13.6-4.69-20.9c0-5.87 0.912-11.5 2.74-16.8 1.96-5.48 4.95-10.7 9-15.6 10.4-13 24.5-19.6 42.2-19.6 14.3 0 26.3 4.43 36 13.3 9.78 8.87 15.6 20.5 17.4 34.8zm-56.7 7.63c1.3 0.26 2.35 0.391 3.13 0.391 0.783 0 1.83-0.131 3.13-0.391 3.39-0.652 6.06-2.15 8.02-4.5 2.09-2.48 3.13-5.41 3.13-8.8 0-1.04-0.261-2.61-0.782-4.69-1.04-3.39-3.19-6-6.45-7.82-2.22-1.3-4.63-1.96-7.24-1.96-3 0-5.8 1.04-8.41 3.13-2.48 1.96-3.98 4.17-4.5 6.65-0.521 2.35-0.717 4.04-0.586 5.08 0 6.91 3.52 11.2 10.6 12.9z'
	,'10':'m80.7 79.7h22.3c6.78 0 11.6 1.17 14.5 3.52 2.87 2.35 4.63 6.45 5.28 12.3v2.74 85.5h1.37c5.08 0 9.26 1.7 12.5 5.08 3.26 3.39 4.89 7.56 4.89 12.5 0 2.61-0.456 5.08-1.37 7.43-2.87 7.82-8.6 11.7-17.2 11.7h-39.3c-5.21 0-9.58-1.76-13.1-5.28s-5.28-7.95-5.28-13.3c0-4.69 1.56-8.67 4.69-11.9 3.13-3.39 7.17-5.41 12.1-6.06l1.56-0.196v-67.9h-2.15c-6.39 0-11.4-1.63-15.1-4.89-3.65-3.26-5.48-7.63-5.48-13.1 0-5.35 1.83-9.71 5.48-13.1 3.65-3.39 8.41-5.08 14.3-5.08z'
	,'20':'m46.6 191 52-59.4c2.22-2.22 3.32-4.82 3.32-7.82 0-3.26-0.978-5.93-2.93-8.02-1.83-2.22-4.37-3.32-7.63-3.32-0.522 0-1.43 0.13-2.74 0.391-5.48 1.17-8.21 4.82-8.21 11 0 2.22 0.521 5.41 1.56 9.58 0.261 0.652 0.391 1.7 0.391 3.13 0 1.3-0.0652 2.35-0.196 3.13-0.913 7.56-5.54 12.3-13.9 14.1-1.56 0.26-2.74 0.391-3.52 0.391-6 0-11.1-2.74-15.4-8.21-4.69-6-7.04-13.8-7.04-23.5 0-2.09 0.0652-3.72 0.196-4.89 0.913-10 4.43-18.5 10.6-25.4 6.26-7.04 14.6-11.8 25-14.3 5.08-1.17 10.1-1.76 15.1-1.76 11.6 0 21.8 3.06 30.7 9.19 8.86 6 14.6 13.6 17.2 22.9 1.17 4.17 1.76 8.08 1.76 11.7 0 8.34-3.39 17.1-10.2 26.2l-1.96 2.54-30.1 36.6h14.3l-0.196-3.32c0-3.91 1.76-7.36 5.28-10.4 3.65-3.13 7.95-4.69 12.9-4.69 2.35 0 4.95 0.521 7.82 1.56 3 0.913 5.48 2.8 7.43 5.67 2.09 2.74 3.13 5.87 3.13 9.39v17.8l-0.196 3.13c-1.56 10.7-7.43 16-17.6 16h-72.2l-5.48-0.587c-9.39-2.35-14.1-7.69-14.1-16 0-2.61 0.717-5.48 2.15-8.6 0.522-1.43 1.43-2.8 2.74-4.11z'
	,'30':'m42.2 117v-18c0-7.56 3.13-13.2 9.39-16.8 2.48-1.43 5.61-2.15 9.39-2.15h40.3l8.21 0.587c17.6 3.13 28.6 13.2 32.9 30.3 0.913 3.65 1.37 7.43 1.37 11.3 0 9.39-3.06 17.9-9.19 25.4l-2.15 2.35 2.54 1.37c10 5.74 15.1 14.8 15.1 27.2 0 3.91-0.587 7.69-1.76 11.3-1.04 3.65-2.8 7.5-5.28 11.5-4.43 6.91-10.9 12.4-19.4 16.6-8.34 4.04-17.9 6.06-28.7 6.06-2.87 0-5.87-0.195-9-0.586-6.39-0.783-12.1-2.15-17.2-4.11-4.95-2.09-9.19-4.69-12.7-7.82-1.69-1.43-3.39-3.19-5.08-5.28s-2.93-3.78-3.72-5.08c-2.22-3.65-3.32-7.56-3.32-11.7 0-4.56 1.37-8.47 4.11-11.7 2.87-3.39 6.71-5.41 11.5-6.06 0.652-0.131 1.56-0.196 2.74-0.196 3.78 0 7.11 1.04 9.97 3.13 1.56 1.17 2.87 2.35 3.91 3.52 0.391 0.391 1.5 1.76 3.32 4.11 3 3.78 7.63 5.67 13.9 5.67 1.56 0 2.8-0.066 3.72-0.196 7.69-0.913 11.5-3.98 11.5-9.19 0-1.43-0.13-2.54-0.391-3.32-1.17-3.26-3.72-5.28-7.63-6.06h-1.37-24.1c-2.09 0-3.91-0.26-5.48-0.782-4.82-1.43-8.34-4.24-10.6-8.41-1.3-2.48-1.96-4.95-1.96-7.43 0-3.39 0.978-6.39 2.93-9 1.96-2.61 4.56-4.37 7.82-5.28 3.39-0.913 6.97-1.37 10.8-1.37h12.7c5.61 0 9.52-0.652 11.7-1.96 2.35-1.3 3.84-3.52 4.5-6.65 0.131-0.521 0.196-1.3 0.196-2.35 0-6.13-3.98-9.19-11.9-9.19l-17-0.196v1.56c0 4.95-1.83 9.06-5.48 12.3-3.65 3.26-8.15 4.89-13.5 4.89-4.95 0-9.13-1.76-12.5-5.28s-5.08-7.89-5.08-13.1z'
	,'40':'m36.5 126 18.5-38.3c4.19-8.48 10.2-12.7 17.9-12.7 5.46 0 9.91 1.83 13.3 5.48s5.14 8.08 5.14 13.3c0 2.48-0.572 5.02-1.71 7.63l-16.8 36-0.381 0.782-0.381 1.37c0 2.61 1.14 3.91 3.43 3.91h0.952 11.4v-15.5c0-4.69 0.953-8.74 2.86-12.1 1.91-3.52 4.38-6 7.43-7.43 3.05-1.56 6.16-2.35 9.34-2.35 4.06 0 7.75 1.17 11 3.52 3.3 2.35 5.46 5.08 6.48 8.22 1.02 3 1.52 6 1.52 9v16.6c1.4-0.391 2.67-0.587 3.81-0.587 4.06 0 7.62 1.63 10.7 4.89s4.57 7.43 4.57 12.5c0 11.1-6.29 16.6-18.9 16.6l-0.19 6.65h1.33c4.83 0 8.83 1.7 12 5.08s4.76 7.76 4.76 13.1c0 5.61-1.72 10.1-5.14 13.5-3.43 3.39-7.88 5.08-13.3 5.08h-38.1c-5.33 0-9.72-1.7-13.1-5.08-3.43-3.39-5.14-7.82-5.14-13.3 0-5.08 1.59-9.39 4.76-12.9 3.3-3.65 7.37-5.48 12.2-5.48l1.33-0.196v-6.45h-19.4l-6.1-0.391c-9.27-1.3-16.6-5.02-22.1-11.1-5.46-6.13-8.19-13.4-8.19-21.9 0-5.87 1.4-11.7 4.19-17.4z'
	,'50':'m95.5 165h-29.1-2.35c-5.08-0.652-9.19-2.61-12.3-5.87-3-3.39-4.5-7.5-4.5-12.3v-48.9c0-5.87 1.63-10.4 4.89-13.7 3.26-3.26 7.89-4.89 13.9-4.89h59.8l2.35 0.196c5.48 0 9.71 1.43 12.7 4.3 3 2.87 4.5 6.78 4.5 11.7v2.15 12.9c0 8.47-3.39 14.2-10.2 17.2-2.74 1.17-5.61 1.76-8.6 1.76-4.69 0-8.86-1.3-12.5-3.91-3.65-2.61-5.48-5.54-5.48-8.8v-3.72h-21.9v15.3h12.3c2.74 0 4.76 0.13 6.06 0.391 13.6 1.56 24.2 6.52 32.1 14.9 7.95 8.21 11.9 18.4 11.9 30.7 0 2.74-0.196 5.48-0.587 8.21-1.82 11.9-7.43 21.6-16.8 29.3-9.26 7.69-20.7 11.5-34.4 11.5-12.9 0-24.4-2.93-34.6-8.8-10-5.87-16.7-13-19.9-21.3-0.913-2.35-1.37-4.89-1.37-7.63 0-4.69 1.43-8.67 4.3-11.9 3-3.39 6.91-5.41 11.7-6.06 3.39-0.261 6.39 0.261 9 1.56 2.61 1.17 5.35 3.52 8.21 7.04 2.87 3.52 5.28 6 7.24 7.43 1.96 1.3 4.37 2.28 7.24 2.93l3.72 0.587c9.65 0 14.5-3.65 14.5-11 0-0.521-0.195-1.76-0.586-3.72-0.392-1.96-1.56-3.72-3.52-5.28-1.96-1.56-4.5-2.35-7.63-2.35z'
	,'60':'m39.9 169v-37.4c0-15.8 5.21-28.8 15.6-39.1 10.4-10.3 23.8-15.4 40.1-15.4h3.72c1.17 0 3.52 0.261 7.04 0.782 3.65 0.391 7.82 1.5 12.5 3.32 8.21 3.26 14.4 7.24 18.6 11.9 4.17 4.69 6.26 9.58 6.26 14.7 0 2.48-0.456 4.82-1.37 7.04-3 7.69-8.41 11.5-16.2 11.5-2.09 0-4.24-0.391-6.45-1.17l-3.32-1.56-0.586-0.391-5.87-4.69-3.52-2.54c-2.09-1.17-4.04-1.96-5.87-2.35-1.82-0.391-3.98-0.586-6.45-0.586l-3.52 0.782c-6.52 1.7-10.2 5.41-11 11.1v1.96 4.69l1.17-0.782 1.37-0.978c5.08-3.13 11.2-4.69 18.4-4.69 5.08 0 10 0.847 14.9 2.54 4.95 1.56 9.78 4.11 14.5 7.63 5.61 4.17 9.97 9.58 13.1 16.2 3.13 6.52 4.69 13.6 4.69 21.3 0 2.74-0.261 5.74-0.782 9-0.522 3.26-1.3 6.26-2.35 9-3.91 10.2-10.4 18.3-19.6 24.4-9 6-19.3 9-30.9 9-4.69 0-9.58-0.586-14.7-1.76-12-2.87-21.6-9.13-28.7-18.8-7.17-9.65-10.8-21.2-10.8-34.8zm50.3 19.9c0.782 0.261 1.96 0.391 3.52 0.391 3.91 0 7.17-1.37 9.78-4.11 2.61-2.74 3.91-6.26 3.91-10.6 0-3-0.978-5.67-2.93-8.02-1.96-2.35-4.56-3.91-7.82-4.69-0.782-0.261-2.02-0.391-3.72-0.391s-3.45 0.391-5.28 1.17c-5.48 2.22-8.21 6.58-8.21 13.1 0 3.13 0.978 5.93 2.93 8.41 2.09 2.35 4.69 3.91 7.82 4.69z'
	,'70':'m40.1 116v-18.4c0-5.74 1.58-10.2 4.74-13.5 3.16-3.26 7.59-4.89 13.3-4.89h60.3l6.64 0.196c7.34 0.652 13.3 3.65 18 9s7.02 11.8 7.02 19.4c0 3.39-0.569 6.84-1.71 10.4l-2.66 6.26-0.759 1.17-1.9 3.52-46.3 82.5c-4.93 8.74-11.1 13.1-18.6 13.1-3.29 0-6.58-0.913-9.86-2.74-3.29-1.83-5.82-4.17-7.59-7.04-1.64-2.87-2.47-6.13-2.47-9.78 0-3.91 1.01-7.56 3.04-11l39.3-69.2 0.759-1.76 0.949-1.56c0.379-0.782 0.569-1.5 0.569-2.15 0-0.522-0.19-1.11-0.569-1.76-0.759-1.3-1.96-1.96-3.6-1.96h-2.47-20.3v1.37c0 5.08-1.77 9.39-5.31 12.9-3.41 3.39-7.59 5.08-12.5 5.08-2.15 0-4.55-0.522-7.21-1.56-7.21-3.13-10.8-9-10.8-17.6z'
	,'80':'m55.5 142-0.978-0.978-0.587-0.978c-3.78-4.82-5.67-11-5.67-18.4 0-5.61 1.11-11.3 3.32-17 6.26-15.8 17.9-25.1 35-28 2.74-0.391 5.35-0.587 7.82-0.587s5.02 0.196 7.63 0.587c17.2 2.87 28.9 12.2 35.2 28 2.22 5.74 3.32 11.5 3.32 17.2 0 7.3-1.89 13.4-5.67 18.2l-0.782 0.978-0.978 0.978 2.74 1.96c3 2.48 5.54 5.48 7.63 9 3.78 5.87 5.67 12.6 5.67 20.3 0 9.91-3.06 19.2-9.19 27.8-6.52 9.13-15.3 15.6-26.2 19.4l-9.19 2.35c-3 0.521-6.39 0.782-10.2 0.782-7.17 0-13.7-1.04-19.6-3.13-10.8-3.78-19.4-10.1-25.8-19-6.26-8.86-9.39-18.3-9.39-28.4 0-7.56 1.89-14.3 5.67-20.1 2.09-3.52 4.63-6.52 7.63-9l1.17-0.977zm29.7-20.5c0.782 3.65 2.87 6 6.26 7.04 1.56 0.651 3.06 0.782 4.5 0.391 4.04-0.652 6.58-3.13 7.63-7.43 0.261-1.3 0.391-2.22 0.391-2.74 0-2.22-0.782-4.3-2.35-6.26-1.96-2.35-4.37-3.52-7.24-3.52-2.61 0-5.02 1.17-7.24 3.52-1.56 1.96-2.35 4.17-2.35 6.65zm-4.3 55.3c1.3 7.3 5.8 11 13.5 11 4.04 0 7.3-1.3 9.78-3.91 2.48-2.61 3.72-5.8 3.72-9.58 0-1.17-0.13-2.41-0.391-3.72s-0.847-2.67-1.76-4.11c-2.87-4.04-6.65-6.06-11.3-6.06-3.39 0-6.32 1.04-8.8 3.13-2.35 1.96-3.85 4.69-4.5 8.21l-0.391 2.54z'
	,'90':'m146 132v37.5c0 15.8-5.21 28.8-15.6 39.1-10.4 10.3-23.7 15.4-39.9 15.4h-2.93c-0.782 0-1.69-0.065-2.74-0.195-1.04-0.131-2.35-0.261-3.91-0.391-1.56-0.131-3.59-0.522-6.06-1.17-2.35-0.521-4.89-1.3-7.63-2.35-8.08-3.26-14.3-6.98-18.6-11.1-4.3-4.3-6.45-8.54-6.45-12.7v-2.54c0-4.95 1.43-9.13 4.3-12.5 2.87-3.39 6.65-5.41 11.3-6.06 0.522-0.13 1.43-0.196 2.74-0.196 2.87 0 5.93 0.913 9.19 2.74l6.45 4.89c2.74 1.96 5.35 3.39 7.82 4.3 2.48 0.783 5.08 1.17 7.82 1.17l3.52-0.587c3.78-1.04 6.45-2.35 8.02-3.91 1.56-1.56 2.54-4.04 2.93-7.43l0.195-1.76v-4.5l-1.17 0.782-1.56 0.978c-5.08 3.13-11.2 4.69-18.4 4.69-5.08 0-10-0.782-14.9-2.35-4.82-1.7-9.52-4.24-14.1-7.63-5.87-4.43-10.4-9.97-13.5-16.6-3.13-6.65-4.69-13.6-4.69-20.9 0-5.87 0.913-11.5 2.74-16.8 1.96-5.48 4.95-10.7 9-15.6 10.4-13 24.5-19.6 42.2-19.6 14.3 0 26.3 4.43 36 13.3 9.78 8.87 15.6 20.5 17.4 34.8zm-56.7 7.63c1.3 0.26 2.35 0.391 3.13 0.391s1.83-0.131 3.13-0.391c3.39-0.652 6.06-2.15 8.02-4.5 2.09-2.48 3.13-5.41 3.13-8.8 0-1.04-0.261-2.61-0.782-4.69-1.04-3.39-3.19-6-6.45-7.82-2.22-1.3-4.63-1.96-7.24-1.96-3 0-5.8 1.04-8.41 3.13-2.48 1.96-3.98 4.17-4.5 6.65-0.521 2.35-0.717 4.04-0.587 5.08 0 6.91 3.52 11.2 10.6 12.9z'
  };
  static SPECIAL_STROKES = { //Thicker strokes for some low numbers
    '0':3, '1':2.67, '2':2.43, '3':2.28, '4':2.18, '5':2.11
  };



  /************** Constructor ***************/

  /**
  * Sets up some Timer Variables
  * @param div: The HTML Element for the DIV to hold the Countdown
  * @param config: Object of key values, ALL OPTIONAL, & defaulted to Countdown.DEFAULT values
  *     start: Number of seconds to start Countdown from
  *      stop: Number to end on (usually 0, but might be 1. Rarely other)
  *   speedMS: Number of Milliseconds between counts
  *    warnAt: Number to color with "warning" color
  *    critAt: Number to color with "critical" color
  *    color_stroke: Color for all unspecified strokes (if you only specify this, all strokes will have the same color)
  *    color_back: Color for the Circle the progress bar moves in
  *    color_back_stroke: Stroke Color for the Circle
  *    color_bar: Color for the Progress Bar
  *    color_text: Text Color for the Numbers in the Countdown
  *    color_text_stroke: Stroke Color for the Numbers
  *    color_warn: Text Color for the Numbers when they reach `warnAt` levels
  *    color_warn_stroke: Stroke Color for the Numbers when they reach `warnAt` levels
  *    color_crit: Text Color for the Numbers when they reach `critAt` levels
  *    color_crit_stroke: Stroke Color for the Numbers when they reach `critAt` levels
  */
  constructor(div, config={}) {
    this.e = div;
	// Set Defaults (allow `config` to override)
	for (let k in Countdown.DEFAULT)
	  this[k] = Countdown.DEFAULT[k];
    // Override Defaults if specified in `config`
	for (let k in config) {
	  if(!(k in this)) {
		console.log("WARNING: invalid key: config." + k);
		continue;
	  }
	  if (k in Countdown.NUMERIC_KEYS) { //Force it to be Numeric, not a String
	    if (null == config[k]) { //Ensure null flags pass straight through
          this[k] = null;
		} else {
		  if ('float' == Countdown.NUMERIC_KEYS[k]) {
			this[k] = parseFloat(config[k]);
		  } else {
			this[k] = parseInt(config[k]);
		  }
		}
	  } else { //String Value
        this[k] = config[k];
	  }
	}
    // Cascade Stroke Colors
	let strokeKeys = ['color_back_stroke','color_text_stroke','color_warn_stroke','color_crit_stroke'];
	for (let k of strokeKeys)
	  if (this[k] == null)
	    this[k] = this.color_stroke;

    // Assume Counting Up
    this.max = this.stop;
    this.min = this.start;
    this.displayedSteps = {}; //Hash of counters we've shown so far
    this.increment = 1;
    if (this.start > this.stop) { //Counting Down
      this.max = this.start;
      this.min = this.stop;
      this.increment = -1;
    }
    this.numSteps = this.max - this.min;
    this.speed = this.speedMS;
    this.duration = this.speedMS * this.numSteps;
    this.complete = false; //flag for done (since other timers may still be requesting animation)
    this.paused = false; //doesn't auto-start, but hasn't actively been "paused"
    this.timeStarted = 0; //Will hold time Animation started, so we can calculate % complete based on this.duration
    this.timePaused = 0; //Will hold time Animation was paused
    // Create DOM Elements we need
    this.dom = {};
    this.svg = {};
    this.initSVGs();
    this.initDOM();
  }



  /******************* Functions ********************/


  /**
  * Creates sub-elements in this.e that we need for display.
  * All elements will be cached in this.dom
  */
  initDOM() {
    this.out("===== initDOM() =====");
    // Force Bounding Box to be Perfectly Square & set Background Image
	let rect = this.e.getBoundingClientRect();
	if (rect.width != rect.height) {
	  if (rect.width > rect.height)
	    this.e.style.height = rect.width + 'px';
	  else
	    this.e.style.width = rect.height + 'px';
	}
    this.out("_countdown_div: " + this.e.clientWidth + ' x ' + this.e.clientHeight + ' pixels');
    // Create, Cache, & Set Class/Src for necessary IMGs/DIVs in DOM
	this.dom.digitOnes = document.createElement('div');
	this.dom.digitOnes.classList.add('_counter_digit', '_counter_digit_right');
	this.dom.digitTens = document.createElement('div');
	this.dom.digitTens.classList.add('_counter_digit', '_counter_digit_left');
	this.dom.pane_left = document.createElement('div'); //Will hold bar
	this.dom.pane_left.classList.add('_counter_pane', '_counter_pane_left');
	this.dom.pane_right = document.createElement('div'); //Will hold bar_right
	this.dom.pane_right.classList.add('_counter_pane', '_counter_pane_right');
	// Append IMGs/DIVs to DOM
	this.dom.pane_left.appendChild(this.svg.bar);
	this.dom.pane_right.appendChild(this.svg.bar_right);
	this.e.appendChild(this.svg.back);
	this.e.appendChild(this.dom.pane_left);
	this.e.appendChild(this.dom.pane_right);
	this.e.appendChild(this.dom.digitOnes);
	this.e.appendChild(this.dom.digitTens);
	this.setNum(this.start);
  }


  /**
  * Creates all the SVGs for custom skinning with colors
  */
  initSVGs() {
    this.out("===== initSVGs() =====");
	// Back Circle & Left/Right Bars
    let style = 'fill:'+this.color_back+';stroke:'+this.color_back_stroke+';stroke-width:1.3';
    this.svg.back = this.svgCreate(Countdown.P_BACK, style);
	this.svg.back.classList.add('_counter_back');
    style = 'fill:'+this.color_bar;
	this.svg.bar = this.svgCreate(Countdown.P_BAR, style);
	this.svg.bar.classList.add('_counter_bar');
	this.svg.bar_right = this.svgCreate(Countdown.P_BAR, style);
	this.svg.bar_right.classList.add('_counter_bar_right');
	// Numbers (Some specific styling on small numbers)
	for (let k in Countdown.P_NUM) {
	  style = 'fill:'+this.color_text+';stroke:'+this.color_text_stroke+';stroke-width:'+this.strokeWidth;
	  this.svg[k] = this.svgCreate(Countdown.P_NUM[k], style);
	  this.svg[k].classList.add('_counter_n' + k);
	}
  }


  /**
  * Resets all the member variables like it was just constructed
  */
  animation_reset() {
    this.setRotation(0); //Reset to 0%
	this.setNum(this.start); //Reset Number to beginning
    this.complete = false;
    this.paused = false;
    this.timeStarted = 0; //Flag indicates no animation has started. It's a FRESH timer.
    this.timePaused = 0; //just to be clean
    this.displayedSteps = {}; //reset displayed step hash
  }


  /** Begin Animation (save start time) */
  animation_start() {
    if (this.timeStarted > 0) //Not Fresh. Reset First
      this.animation_reset();
    this.timeStarted = Date.now();
  }


  /** End of the animation (Just stay on last num/frame) */
  animation_stop() {
    this.complete = true;
  }


  /** Pause/Unpause the animation */
  animation_pause() {
    if (this.timeStarted == 0)
      return; //Can't pause what hasn't Started
    if (this.paused) { //Unpause
      //Get new this.timeStarted
      let now = Date.now();
      let diff = this.timePaused - this.timeStarted;
      this.timeStarted = now - diff; //Pretend it started more recently
      this.timePaused = 0;
      this.paused = false;
    } else { //Pause
      this.paused = true;
      this.timePaused = Date.now();
    }
  }


  /** Animate counter based on time passed since this.timeStarted */
  animation_update() {
    if (this.paused || this.complete)
      return;
    let diff = Date.now() - this.timeStarted; //How many MS since start
    let perc = diff / this.duration; //Percent Complete

    // Change Counter Number based on Percent
    let elapsedSteps = Math.floor(perc * this.numSteps);
    let currNum = this.start + (elapsedSteps * this.increment); //Count Up or Down
    if (currNum < this.min)
      currNum = this.min;
    else if (currNum > this.max)
      currNum = this.max;
    if (!(currNum in this.displayedSteps)) {
      this.displayedSteps[currNum] = true;
	  this.setNum(currNum);
      //TODO: Animate number bounce/wobble with ._counter_bounce class & requestTimeout
    }

    // Calculate Rotation from Percent
    let x = Countdown.DIVISOR_HALF_ROTATION; //half a ring rotates slightly < halfway
    let rotate = perc / x; //so we "half" the rotation
    if (rotate > 0) //Sometimes buffer leads to a slight negative
      this.setRotation(rotate);

    //End Animation if it's been longer than the Duration
    if (diff >= this.duration)
      this.animation_stop();
  }


  /**
  * Outputs a message *IF* Countdown.DEBUG flag is enabled
  * @param msg: variable to pass to console.log()
  */
  out(msg) {
	if (Countdown.DEBUG)
	  console.log(msg);
  }


  /**
  * Remove all childNodes from a DOM element
  * @param e: the parent to remove all children from
  */
  removeAllChildNodes(e) {
    while (e.firstChild)
      e.removeChild(e.lastChild);
  }


  /**
  * Sets the Number displayed on the counter (& styles for critAt or warnAt)
  * @param n: integer representing the current number to display on the counter
  */
  setNum(n) {
	n = parseInt(n); //Ensure numeric
	// Default Styling (Assuming no Warning or Critical Warning)
	let style = 'fill:'+this.color_text+';stroke:'+this.color_text_stroke+';stroke-width:'+this.strokeWidth;
	// Is Crit / Warn ?
    let nDown = n * this.increment * -1; //Make it all act like counting DOWN for warn/crit
	if (this.warnAt != null) {
	  let warnAtDown = this.warnAt * this.increment * -1;
      if (nDown <= warnAtDown)
        style = 'fill:'+this.color_warn+';stroke:'+this.color_warn_stroke+';stroke-width:'+this.strokeWidthWarn;
	}
	if (this.critAt != null) { //May overwrite "Warn" styling
	  let critAtDown = this.critAt * this.increment * -1;
      if (nDown <= critAtDown)
        style = 'fill:'+this.color_crit+';stroke:'+this.color_crit_stroke+';stroke-width:'+this.strokeWidthCrit;
	}
	// Single Digit Numbers
	if (n < 10) {
      this.removeAllChildNodes(this.dom.digitTens); //remove last sec to avoid flicker
      this.removeAllChildNodes(this.dom.digitOnes); //remove last sec to avoid flicker
      this.svg[n].firstChild.style = style; //Apply styling (usually default, but may be warn/crit)
      this.dom.digitOnes.appendChild(this.svg[n]);
	} else { // Double Digit Numbers
      let d1 = Math.floor(n / 10) + '0'; //Digit for the tens place
      let d2 = '0' + (n % 10); //Digit for the ones place
      this.removeAllChildNodes(this.dom.digitTens); //remove last sec to avoid flicker
      this.svg[d1].firstChild.style = style; //Apply styling right before it gets appended
      this.dom.digitTens.appendChild(this.svg[d1]);
      this.removeAllChildNodes(this.dom.digitOnes); //remove last sec to avoid flicker
      this.svg[d2].firstChild.style = style; //Apply styling right before it gets appended
      this.dom.digitOnes.appendChild(this.svg[d2]);
	}
  }


  /**
  * Sets the Rotation on the Left/Right ring pieces for all Browsers
  * @param rotate: integer 0 - 0.5 for how much to rotate (never over half, because rings are in 2 pieces)
  */
  setRotation(rotate) {
    // Apply Rotation for All Browsers
    rotate *= -1;
    let tRight = 'scaleX(-1) rotate(' + rotate + 'turn)';
    let tLeft = 'rotate(' + rotate + 'turn)';
    this.svg.bar.style.transform = tLeft; //Chrome
    this.svg.bar.style.OTransform = tLeft; //Opera
    this.svg.bar.style.MozTransform = tLeft; //Mozilla
    this.svg.bar.style.msTransform = tLeft; //Microsoft
    this.svg.bar.style.webkitTransform = tLeft; //Webkit
	if ('bar_right' in this.svg) { //Sometimes I disable the right side for testing
      this.svg.bar_right.style.transform = tRight;
      this.svg.bar_right.style.OTransform = tRight;
      this.svg.bar_right.style.MozTransform = tRight;
      this.svg.bar_right.style.msTransform = tRight;
	  this.svg.bar_right.style.webkitTransform = tRight;
	}
  }


  /**
  * Creates an SVG with the specified style and path(s)
  * @param paths: String or Array of Strings, each representing a <path> to go in the SVG
  * @param styles: String or Array of Strings, each representing the "style" attribute for a path
  */
  svgCreate(paths, styles='') {
    this.out("===== svgCreate() =====");
	if (!Array.isArray(paths))
	  paths = [paths];
	if (!Array.isArray(styles))
	  styles = [styles];
	let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute('width', '902');
    svg.setAttribute('height', '902');
    svg.setAttribute('viewBox', '0 0 301 301');
    svg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
	for (let i=0; i < paths.length; ++i) {
	  let path = document.createElementNS("http://www.w3.org/2000/svg", 'path');
      path.setAttribute('d', paths[i]);
      path.setAttribute('style', styles[i]);
      svg.appendChild(path);
	}
	return svg;
  }
}
